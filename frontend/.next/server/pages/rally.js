(()=>{var e={};e.id=336,e.ids=[336,888,660],e.modules={140:(e,t,r)=>{"use strict";r.r(t),r.d(t,{config:()=>C,default:()=>N,getServerSideProps:()=>_,getStaticPaths:()=>P,getStaticProps:()=>S,reportWebVitals:()=>T,routeModule:()=>E,unstable_getServerProps:()=>k,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>L,unstable_getStaticPaths:()=>R,unstable_getStaticProps:()=>$});var s={};r.r(s),r.d(s,{default:()=>y,getStaticProps:()=>w});var l=r(7093),a=r(5244),i=r(1323),n=r(2899),c=r.n(n),o=r(6814),d=r(997),m=r(2048),u=r.n(m),x=r(5315),h=r.n(x),p=r(3093),g=r(6689),f=r.n(g);let j=({items:e,interval:t=6e3})=>{let[r,s]=(0,g.useState)(0),l=(0,g.useRef)(null),a=f().useMemo(()=>{let t=e.filter(e=>"clip"===e.type),r=e.filter(e=>"clip"!==e.type);return t.concat(r)},[e]);(0,g.useEffect)(()=>(i(),n),[r,a]);let i=()=>{n(),l.current=window.setTimeout(()=>{s(e=>(e+1)%a.length)},t)},n=()=>{l.current&&window.clearTimeout(l.current),l.current=null};if(!a||0===a.length)return null;let c=a[r],o=(0,g.useRef)(null),m=(0,g.useRef)(null);(0,g.useEffect)(()=>()=>{m.current&&window.clearTimeout(m.current)},[]);let u=(e,t={})=>{try{console.log("[analytics]",e,t)}catch(e){}};return(0,d.jsxs)("div",{className:"w-full",children:[d.jsx("div",{className:"relative w-full overflow-hidden rounded",children:d.jsx("div",{className:"w-full bg-black flex items-center justify-center",style:{height:420},children:(e=>{if("image"===e.type)return d.jsx("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover"});if(/youtu(?:\.be|be\.com)/i.test(e.src)){let t=function(e,t,r){try{let s=new URL(e),l="";if(s.hostname.includes("youtube.com")?l=s.searchParams.get("v")||"":"youtu.be"===s.hostname&&(l=s.pathname.slice(1)),!l){let e=s.pathname.split("/").filter(Boolean);l=e[e.length-1]||""}if(!l)return e;let a=new URLSearchParams({autoplay:"1",mute:"1",controls:"0",modestbranding:"1",rel:"0",playsinline:"1",enablejsapi:"0",iv_load_policy:"3"});return t&&a.set("start",String(t)),r&&a.set("end",String(r)),`https://www.youtube.com/embed/${l}?${a.toString()}`}catch(t){return e}}(e.src,e.start,e.end);return(0,g.useEffect)(()=>{if(void 0!==e.start&&void 0!==e.end){let t=(e.end-e.start)*1e3;m.current&&window.clearTimeout(m.current),m.current=window.setTimeout(()=>{s(e=>(e+1)%a.length),u("clip_end",{title:e.title})},t),u("clip_start",{title:e.title,duration:t})}return()=>{m.current&&window.clearTimeout(m.current)}},[r]),d.jsx("iframe",{title:e.title,src:t,className:"w-full h-full",frameBorder:0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}if(e.src.endsWith(".mp4")||e.src.includes(".mp4")){let t=e.start||0,r=e.end||void 0;return d.jsx("video",{ref:o,className:"w-full h-full object-cover",src:e.src+(e.start||0===e.start?`#t=${t}`:""),playsInline:!0,muted:!0,autoPlay:!0,onPlay:()=>u("video_play",{title:e.title}),onEnded:()=>{u("video_end",{title:e.title}),s(e=>(e+1)%a.length)},onLoadedMetadata:l=>{let i=l.currentTarget;if(t&&(i.currentTime=t),r){let t=()=>{i.currentTime>=r&&(i.pause(),i.removeEventListener("timeupdate",t),s(e=>(e+1)%a.length),u("video_clip_end",{title:e.title}))};i.addEventListener("timeupdate",t)}}})}return d.jsx("iframe",{title:e.title,src:e.src,className:"w-full h-full",frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0})})(c)})}),(0,d.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[d.jsx("div",{className:"text-sm font-semibold",children:c.title}),d.jsx("div",{className:"flex items-center gap-2",children:a.map((e,t)=>d.jsx("button",{"aria-label":`Vai a ${e.title}`,onClick:()=>s(t),className:`w-3 h-3 rounded-full ${t===r?"bg-codecar-ocra":"bg-gray-300"}`},t))})]})]})},v=({percent:e,label:t})=>(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex justify-between mb-1",children:[d.jsx("div",{className:"text-sm font-medium",children:t}),(0,d.jsxs)("div",{className:"text-sm text-gray-600",children:[e,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded h-3 overflow-hidden",role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,"aria-label":t,children:d.jsx("div",{className:"bg-codecar-ocra h-3 rounded transition-all",style:{width:`${e}%`}})})]}),b=({highlights:e,timeline:t})=>(0,d.jsxs)("section",{children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Traguardi e progressi"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx("div",{children:e.map(e=>(0,d.jsxs)("div",{className:"mb-6 p-4 border rounded",children:[d.jsx("h3",{className:"font-semibold",children:e.title}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),d.jsx("div",{className:"mt-3",children:d.jsx(v,{percent:e.percent,label:`${e.title} - Performance`})})]},e.id))}),(0,d.jsxs)("div",{children:[d.jsx("h3",{className:"font-semibold mb-3",children:"Timeline gare"}),d.jsx("ol",{className:"border-l-2 border-gray-200",children:t.map((e,t)=>(0,d.jsxs)("li",{className:"mb-6 ml-4",children:[d.jsx("div",{className:"absolute -left-3 mt-1 w-5 h-5 bg-codecar-ocra rounded-full"}),(0,d.jsxs)("div",{className:"text-sm font-medium",children:[e.event," ",(0,d.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.date,")"]})]}),d.jsx("div",{className:"text-sm text-gray-600",children:e.blurb})]},t))})]})]})]});function y({data:e}){let t=(e.media||[]).map(e=>({type:"video"===e.type?"video":"clip",title:e.title,src:e.src}));return(0,d.jsxs)(p.Z,{children:[(0,d.jsxs)("h1",{className:"text-3xl font-bold",children:["Sezione Rally — ",e.driver]}),d.jsx("p",{className:"mt-2 text-gray-700",children:e.intro}),d.jsx("div",{className:"mt-8",children:d.jsx(j,{items:t,interval:7e3})}),d.jsx("div",{className:"mt-8",children:d.jsx(b,{highlights:e.highlights,timeline:e.timeline})}),(0,d.jsxs)("div",{className:"mt-10",children:[d.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Galleria"}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:e.highlights.map(e=>e.images&&e.images.map((t,r)=>d.jsx("img",{src:t,alt:`${e.title} ${r+1}`,className:"w-full h-40 object-cover rounded"},`${e.id}-${r}`)))})]})]})}async function w(){let e=h().join(process.cwd(),"public","data","rally.json"),t={};try{let r=u().readFileSync(e,"utf-8");t=JSON.parse(r)}catch(e){t={driver:"Lorenzo Codec\xe0",intro:"",highlights:[],media:[],timeline:[]}}return{props:{data:t}}}let N=(0,i.l)(s,"default"),S=(0,i.l)(s,"getStaticProps"),P=(0,i.l)(s,"getStaticPaths"),_=(0,i.l)(s,"getServerSideProps"),C=(0,i.l)(s,"config"),T=(0,i.l)(s,"reportWebVitals"),$=(0,i.l)(s,"unstable_getStaticProps"),R=(0,i.l)(s,"unstable_getStaticPaths"),L=(0,i.l)(s,"unstable_getStaticParams"),k=(0,i.l)(s,"unstable_getServerProps"),q=(0,i.l)(s,"unstable_getServerSideProps"),E=new l.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/rally",pathname:"/rally",bundlePath:"",filename:""},components:{App:o.default,Document:c()},userland:s})},3093:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(997);r(6689);var l=r(1664),a=r.n(l);let i=require("next/head");var n=r.n(i);let c={title:"Codecar Seregno - Concessionaria & Rally",description:"Codecar Seregno — Concessionaria e centro rally di Lorenzo Codec\xe0. Scopri le vetture in pronta consegna e segui le imprese rally.",url:"https://your-domain.example",logo:"/placeholder-car.jpg"},o=()=>s.jsx("header",{className:"bg-white shadow-sm",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsxs)(a(),{href:"/",className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded bg-codecar-ocra flex items-center justify-center font-bold text-white",children:"CC"}),s.jsx("div",{className:"text-lg font-semibold",children:"Codecar Seregno"})]}),(0,s.jsxs)("nav",{className:"flex items-center gap-4",children:[s.jsx(a(),{href:"/veicoli",className:"text-sm text-gray-700 hover:text-black",children:"Vetture"}),s.jsx(a(),{href:"/rally",className:"text-sm text-gray-700 hover:text-black",children:"Rally"}),s.jsx(a(),{href:"/contatti",className:"text-sm bg-codecar-ocra px-3 py-2 rounded text-white",children:"Contatti"})]})]})}),d=()=>s.jsx("footer",{className:"mt-12 border-t bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6 text-sm text-gray-600",children:"\xa9 Codecar Seregno — Tutti i diritti riservati"})}),m=({children:e})=>(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,s.jsxs)(n(),{children:[s.jsx("title",{children:c.title}),s.jsx("meta",{name:"description",content:c.description}),s.jsx("meta",{property:"og:title",content:c.title}),s.jsx("meta",{property:"og:description",content:c.description}),s.jsx("meta",{property:"og:image",content:c.logo}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"AutoDealer",name:"Codecar Seregno",url:c.url,logo:c.logo,sameAs:[]})}})]}),s.jsx(o,{}),s.jsx("main",{className:"flex-1 max-w-7xl mx-auto px-4 py-8",children:e}),s.jsx(d,{})]})},6814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(997);function l({Component:e,pageProps:t}){return s.jsx(e,{...t})}r(6764)},6764:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[899,559],()=>r(140));module.exports=s})();